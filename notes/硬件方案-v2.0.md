# 硬件方案



### 数据处理流图（待做）

核心数据都放在电脑上处理





### 可以采取的硬件方案

​	对于平板平衡和小车位置检测的可行方案汇总：

1. ~~桌子的平衡检测~~：

   * 【推荐】陀螺仪检测（如GY61等多轴陀螺仪）

     * 优点：使用简单

     * 问题：可能会出现陀螺仪开机时间过长产生的零点漂移

     * 解决方法：长时间陀螺仪使用，GY61可以保证空间漂移角度小于一度，所以如果在影响不大的情况下，可以

       忽略漂移

2. 小车位置检测：

   * 计算机视觉方法：单摄像头加多标定点/形状检测，如下图所示

     * 难点：由于机器人眼部摄像头视野范围较窄，如何确保所有标定点都在视野范围内（为了测算距离，需要保证三个以上的标定点在视野范围内）

3. 数据传输：

   * 【推荐】所有设备都在 Wifi 下进行传输
     * 优点：可扩展性好，易编程易调试
     * 缺点：在同一个Wifi下IP地址可能会变，每次使用程序都可能需要更改和IP有关的参数
     * 解决方法：在路由器端固定每一个设备所使用的IP
   * usb 数据读取
     * 优点：不需要额外的单片机和电源，节省设备所占空间
     * 缺点：只能连接单个传感器，缺乏扩展性

4. 放置物体

   * - [x] 小车：四轮，单向运动
   * 球类：适当提高摩擦力 / 圆形槽，多向运动 
   * 水杯：实际应用意义较强

5. 木板和机械手之间的连接

   * - [x] 3D 打印，圆柱把手
   * 绳子连接

6. 木板材料和大小

   - 待实物尝试，可初步估算



### 推荐硬件方案

一定需要增加的额外硬件有： 

1. ~~陀螺仪~~

   JY61（六轴）: https://detail.tmall.com/item.htm?spm=a230r.1.14.18.2e3462efTFlNkG&id=41254811909&ns=1&abbucket=6

   JY901（九轴）:https://detail.tmall.com/item.htm?spm=a1z10.3-b-s.w4011-16538328900.46.4bb33d6cDGmIuA&id=521122930693&rn=5670ad7cd6fdf5a0e3cf9f7206a36536&abbucket=2



Wifi 方案需要增加的额外硬件有： 

1. TP-link wifi传输器

   https://detail.tmall.com/item.htm?spm=a230r.1.14.37.702f6b1fP1A9As&id=542107756265&ns=1&abbucket=6&sku_properties=5919063:33030646

2. ~~Arduino Mega2560/ STM32 主控板（负责读取陀螺仪数据）~~

   STM32（性能较强）: https://detail.tmall.com/item.htm?spm=a1z10.3-b-s.w4011-16538328900.73.ceff3d6cfUqbcx&id=576375124292&rn=1ac5606465d773a47b0c2c49da1a83f4&abbucket=2

   Mega 2560（容易编程）: https://detail.tmall.com/item.htm?id=610363500523&ali_refid=a3_430582_1006:1231260087:N:iE5FrmjFX0w2BD45j63tz66e0mkIsA8c:7688c5a31e5f23f602440395009ba641&ali_trackid=1_7688c5a31e5f23f602440395009ba641&spm=a230r.1.14.6

3. ~~WiFi 传输模块~~

   https://detail.tmall.com/item.htm?id=609757779633&ali_refid=a3_430583_1006:1267360122:N:5Ry051kIHqI0OFXs1Q7YYjVt9Q0NFo+R:3ccabe3189bbf3a2e7e9fbde27228de8&ali_trackid=1_3ccabe3189bbf3a2e7e9fbde27228de8&spm=a230r.1.14.1

4. ~~单片机电源【需要根据所选择的主控板不同而单独选择】~~

   18650：https://detail.tmall.com/item.htm?spm=a230r.1.14.20.1aa51fd68mNUsa&id=537222221085&ns=1&abbucket=6

注：推荐Wifi的一个很大原因就是，如果我们后续还要做如避障等其他问题的研究，那么不可避免的要引入如uwb测距系统等其他硬件设备。如果现在使用usb方案，到时候还需要重新搭建wifi环境并调试相关代码，所以建议直接使用Wifi方案



~~USB 方案下需要增加的硬件有：~~ 

1. TTL转USB模块：https://detail.tmall.com/item.htm?spm=a1z10.3-b-s.w4011-16538328900.172.41123d6cpH3qfX&id=41299374208&rn=b7b9132dd5bc9fd36ba32360708e23e9&abbucket=2

   （建议购买，Wifi 方案下也可能会需要）



### 硬件部分-下一步任务

3. opencv 视觉定位方法
4. nao 机器人运动和wifi/usb 连接的基本代码掌握



### 下一步任务 - 6.26 

1. 每个人掌握基本的仿真环境搭建技能
2. 仿真环境下的 opencv 视觉定位方法：陈天健
3. 机器人控制：吕光冉 甄艺 

